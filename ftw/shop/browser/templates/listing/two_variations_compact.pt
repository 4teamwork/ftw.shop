            <!-- Two Variation Attributes -->
            <tal:block tal:define="item options/item;
                                   varConf item/varConf;
                                   normalizeString nocall: context/@@plone/normalizeString"
                        i18n:domain="ftw.shop">
                <div class="variation-toplevel-group" 
                     tal:condition="python:item['hasVariations'] and len(varConf.getVariationAttributes()) > 1" 
                     tal:define="varConf item/varConf">
                    <form tal:attributes="action string:${item/url}/addtocart">

                        <table class="variationSelection">
                            <tr>
                                <td>
                                    <label tal:content="python:varConf.getVariationAttributes()[0]">Farbe</label>
                                </td>
                                <td>
                                    <label tal:content="python:varConf.getVariationAttributes()[1]">Gr√∂sse</label>
                                </td>

                                <td class="variationPriceLabel" style="display:none;"><label i18n:translate="label_price">Price</label></td>
                                <td class="variationSKUCodeLabel" style="display:none;"><label i18n:translate="label_sku_code">SKU Code</label></td>

                                <td>
                                    <label>Menge</label>
                                </td>

                                <td>
                                </td>
                            </tr>
                                
                            <tr class="variationSelection">
                                <td>
                                    <select name="var1choice">
                                        <option tal:repeat="varValue1 varConf/getVariation1Values"
                                            tal:content="varValue1" 
                                            tal:attributes="value python:normalizeString(varValue1)">
                                            Blau
                                        </option>
                                    </select>
                                </td>

                                <td>
                                    <select name="var2choice">
                                        <option tal:repeat="varValue2 varConf/getVariation2Values"
                                                tal:content="varValue2"
                                                tal:attributes="value python:normalizeString(varValue2)">
                                                S
                                        </option>
                                    </select>
                                </td>

                                <td class="variationPrice" style="display:none;"></td>
                                <td class="variationSKUCode" style="display:none;"></td>

                                <td>
                                    <input name="quantity:int" type="text" value="1" size="2" />
                                </td>

                                <td>
                                    <input tal:condition="varConf/isValid" 
                                           name="addtocart" class="compact" type="submit" 
                                           value="Add to cart" i18n:attributes="value"/>
                                </td>
                            </tr>
                        </table>

                                <dl class="portalMessage warning"
                                    tal:condition="not: varConf/isValid" i18n:translate="msg_not_buyable">
                                            <dt>Not buyable</dt>
                                            <dd><a href="" i18n:name="edit_variations"
                                                   i18n:translate="label_edit_variations"
                                                   tal:attributes="href string:${item/url}/edit_variations">
                                                   Edit variations</a></dd>
                                </dl>

                                <input type="hidden" name="uid" type="text" tal:attributes="value item/uid" />
                    </form>
                     
                     <table tal:condition="varConf/isValid" 
                            class="itemDataTable"
                            tal:define="varDict varConf/getVariationDict">
                         <thead>
                             <th>Variation</th>
                             <th i18n:translate="label_price">Price</th>
                             <th i18n:translate="label_sku_code">SKU code</th>
                             <th i18n:translate="label_description">Description</th>
                         </thead>
                         <tbody>
	                         <tal:variations tal:repeat="vkey varDict">
	                             <tr tal:attributes="id vkey" tal:condition="python: varDict[vkey]['active']">
	                             <td tal:content="python:varConf.getPrettyName(vkey)"></td>
	                             <td tal:content="python: varDict[vkey]['price']"></td>
	                             <td tal:content="python: varDict[vkey]['skuCode']"></td>
	                             <td><span tal:condition="python: 'description' in varDict[vkey].keys()"  tal:content="python: varDict[vkey]['description']"/></td>
	                             </tr>
	                         </tal:variations>
                         </tbody>
                     </table>

                     <span class="variationDescription" style="display:none;"></span>
                 </div>
             </tal:block>